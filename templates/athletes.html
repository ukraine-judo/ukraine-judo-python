{% extends "base.html" %}

{% block title %}–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∏ –∑–±—ñ—Ä–Ω–æ—ó - –§–µ–¥–µ—Ä–∞—Ü—ñ—è –î–∑—é–¥–æ –£–∫—Ä–∞—ó–Ω–∏{% endblock %}

{% block content %}

{% block subheader %}
<!-- Team Subheader Navigation -->
<div class="fixed top-16 lg:top-20 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <nav class="flex items-center gap-1 overflow-x-auto scrollbar-hide py-2" aria-label="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏">
            <!-- Athletes (Active) -->
            <a href="/team/athletes" 
               data-page="team-athletes"
               class="subheader-link active flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all whitespace-nowrap">
                <span class="material-symbols-outlined text-[18px]">sports_martial_arts</span>
                <span>–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∏</span>
            </a>
            
            <!-- Coaches -->
            <a href="/team/coaches" 
               data-page="team-coaches"
               class="subheader-link flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all whitespace-nowrap">
                <span class="material-symbols-outlined text-[18px]">supervisor_account</span>
                <span>–¢—Ä–µ–Ω–µ—Ä–∏</span>
            </a>
        </nav>
    </div>
</div>

<!-- Spacer for fixed subheader -->
<div class="h-[52px]"></div>
{% endblock %}

<main class="flex-grow w-full">
    
    <!-- Hero Section -->
    <div class="bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 relative overflow-hidden">
        <!-- Decorative Elements -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
            <div class="absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 relative z-10">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
                <!-- Title -->
                <div class="flex-1">
                    <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full text-white/90 text-xs font-medium mb-4">
                        <span class="material-symbols-outlined text-[16px]">emoji_events</span>
                        <span>–ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –∑–±—ñ—Ä–Ω–∞ –£–∫—Ä–∞—ó–Ω–∏</span>
                    </div>
                    <h1 class="text-white text-4xl md:text-5xl font-black leading-tight tracking-tight mb-3">
                        –°–ø–æ—Ä—Ç—Å–º–µ–Ω–∏ –∑–±—ñ—Ä–Ω–æ—ó
                    </h1>
                    <p class="text-blue-100 text-lg leading-relaxed max-w-2xl">
                        –ù–∞–π–∫—Ä–∞—â—ñ –¥–∑—é–¥–æ—ó—Å—Ç–∏, —è–∫—ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å –Ω–∞—à—É –∫—Ä–∞—ó–Ω—É –Ω–∞ –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∏—Ö –∑–º–∞–≥–∞–Ω–Ω—è—Ö
                    </p>
                </div>
                
                <!-- Stats Cards -->
                <div class="flex flex-wrap md:flex-col gap-3">
                    <div class="bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20 min-w-[140px]">
                        <div class="text-white/70 text-xs font-medium mb-1">–í—Å—å–æ–≥–æ</div>
                        <div class="text-white text-3xl font-black">{{ total_athletes }}</div>
                        <div class="text-white/60 text-xs mt-1">—Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ñ–≤</div>
                    </div>
                    {% if current_sex != 'all' or current_status != 'all' %}
                    <div class="bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20 min-w-[140px]">
                        <div class="text-white/70 text-xs font-medium mb-1">–í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–æ</div>
                        <div class="text-white text-3xl font-black">{{ athletes|length }}</div>
                        <div class="text-white/60 text-xs mt-1">—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤</div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Filters Section -->
    <div class="bg-gray-50 border-b border-gray-200 sticky top-[68px] lg:top-[72px] z-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
                
                <!-- Search (Priority) -->
                <div class="relative flex-1 max-w-md">
                    <span class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <span class="material-symbols-outlined text-gray-400 text-[20px]">search</span>
                    </span>
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="–ó–Ω–∞–π—Ç–∏ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞ –∑–∞ —ñ–º'—è–º..." 
                        value="{{ search_query }}"
                        class="block w-full pl-12 pr-4 py-3 bg-white border border-gray-300 hover:border-gray-400 focus:border-blue-600 focus:ring-2 focus:ring-blue-600/20 rounded-xl text-sm placeholder-gray-500 focus:outline-none transition-all shadow-sm"
                    />
                </div>
                
                <!-- Filters Pills -->
                <div class="flex items-center gap-2 flex-wrap">
                    <!-- Sex Filter -->
                    <div class="relative custom-filter-dropdown" data-name="sex" data-value="{{ current_sex or 'all' }}">
                        <button class="inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 hover:border-gray-400 rounded-xl text-sm font-medium transition-all shadow-sm">
                            <span class="filter-label">
                                {% if current_sex == 'men' %}‚ôÇÔ∏è –ß–æ–ª–æ–≤—ñ–∫–∏
                                {% elif current_sex == 'women' %}‚ôÄÔ∏è –ñ—ñ–Ω–∫–∏
                                {% else %}–°—Ç–∞—Ç—å{% endif %}
                            </span>
                            <span class="material-symbols-outlined text-gray-500 text-[18px]">expand_more</span>
                        </button>
                        <div class="filter-dropdown-menu">
                            <button class="filter-dropdown-item" data-value="all">üë• –í—Å—ñ</button>
                            <button class="filter-dropdown-item" data-value="men">‚ôÇÔ∏è –ß–æ–ª–æ–≤—ñ–∫–∏</button>
                            <button class="filter-dropdown-item" data-value="women">‚ôÄÔ∏è –ñ—ñ–Ω–∫–∏</button>
                        </div>
                    </div>

                    <!-- Status Filter -->
                    <div class="relative custom-filter-dropdown" data-name="status" data-value="{{ current_status or 'all' }}">
                        <button class="inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 hover:border-gray-400 rounded-xl text-sm font-medium transition-all shadow-sm">
                            <span class="filter-label">
                                {% if current_status == 'main' %}‚≠ê –û—Å–Ω–æ–≤–∞
                                {% elif current_status == 'candidate' %}üéØ –ö–∞–Ω–¥–∏–¥–∞—Ç
                                {% elif current_status == 'reserve' %}üí™ –†–µ–∑–µ—Ä–≤
                                {% else %}–°—Ç–∞—Ç—É—Å{% endif %}
                            </span>
                            <span class="material-symbols-outlined text-gray-500 text-[18px]">expand_more</span>
                        </button>
                        <div class="filter-dropdown-menu">
                            <button class="filter-dropdown-item" data-value="all">üìã –í—Å—ñ —Å—Ç–∞—Ç—É—Å–∏</button>
                            <button class="filter-dropdown-item" data-value="main">‚≠ê –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫–ª–∞–¥</button>
                            <button class="filter-dropdown-item" data-value="candidate">üéØ –ö–∞–Ω–¥–∏–¥–∞—Ç</button>
                            <button class="filter-dropdown-item" data-value="reserve">üí™ –†–µ–∑–µ—Ä–≤</button>
                        </div>
                    </div>

                    <!-- Clear Button -->
                    {% if current_sex != 'all' or current_status != 'all' or search_query %}
                    <button onclick="clearFilters()" class="inline-flex items-center gap-2 px-4 py-3 bg-gray-200 hover:bg-gray-300 rounded-xl text-sm font-medium transition-all" title="–û—á–∏—Å—Ç–∏—Ç–∏">
                        <span class="material-symbols-outlined text-[18px]">close</span>
                        <span class="hidden sm:inline">–°–∫–∏–Ω—É—Ç–∏</span>
                    </button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Athletes Grid -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        
        {% if athletes and athletes|length > 0 %}
        <div id="athletes-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
            {% for athlete in athletes %}
            <article class="athlete-card group" onclick="window.navigationManager.navigateTo('/team/athletes/{{ athlete.slug }}')">
                <!-- Image Container -->
                <div class="relative aspect-[3/4] rounded-2xl overflow-hidden bg-gradient-to-br from-gray-200 to-gray-300 mb-3">
                    {% if athlete.photo_url %}
                    <img src="{{ athlete.photo_url }}" alt="{{ athlete.name }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                    {% else %}
                    <div class="w-full h-full flex items-center justify-center">
                        <span class="material-symbols-outlined text-gray-400 text-[64px] opacity-30">person</span>
                    </div>
                    {% endif %}
                    
                    <!-- Gradient Overlay -->
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    
                    <!-- Status Badge -->
                    <div class="absolute top-3 right-3">
                        {% if athlete.status == 'main' %}
                        <span class="inline-flex items-center gap-1 bg-blue-600 text-white text-[10px] font-bold uppercase px-2 py-1 rounded-lg shadow-lg">
                            <span class="w-1.5 h-1.5 bg-white rounded-full"></span>
                            –û—Å–Ω–æ–≤–∞
                        </span>
                        {% elif athlete.status == 'candidate' %}
                        <span class="inline-flex items-center gap-1 bg-purple-600 text-white text-[10px] font-bold uppercase px-2 py-1 rounded-lg shadow-lg">
                            <span class="w-1.5 h-1.5 bg-white rounded-full"></span>
                            –ö–∞–Ω–¥–∏–¥–∞—Ç
                        </span>
                        {% elif athlete.status == 'reserve' %}
                        <span class="inline-flex items-center gap-1 bg-amber-600 text-white text-[10px] font-bold uppercase px-2 py-1 rounded-lg shadow-lg">
                            <span class="w-1.5 h-1.5 bg-white rounded-full"></span>
                            –†–µ–∑–µ—Ä–≤
                        </span>
                        {% endif %}
                    </div>
                    
                    <!-- Quick Info Overlay (on hover) -->
                    <div class="absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                        <div class="flex items-center gap-2 text-white text-xs">
                            {% if athlete.weight %}
                            <span class="inline-flex items-center gap-1 bg-white/20 backdrop-blur-sm px-2 py-1 rounded-md">
                                <span class="material-symbols-outlined text-[14px]">fitness_center</span>
                                {{ athlete.weight }}
                            </span>
                            {% endif %}
                            {% if athlete.age %}
                            <span class="inline-flex items-center gap-1 bg-white/20 backdrop-blur-sm px-2 py-1 rounded-md">
                                <span class="material-symbols-outlined text-[14px]">cake</span>
                                {{ athlete.age }} —Ä.
                            </span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <!-- Info -->
                <div>
                    <h3 class="text-gray-900 text-sm md:text-base font-bold leading-tight mb-1 group-hover:text-blue-600 transition-colors line-clamp-2">
                        {{ athlete.name }}
                    </h3>
                    <p class="text-gray-600 text-xs md:text-sm">
                        {% if athlete.age_category %}{{ athlete.age_category }}{% else %}‚Äî{% endif %}
                    </p>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <!-- Empty State -->
        <div class="text-center py-16 px-6">
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 mb-6">
                <span class="material-symbols-outlined text-gray-400 text-[48px]">search_off</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-3">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h3>
            <p class="text-gray-600 mb-8 max-w-md mx-auto">
                –ó–∞ –≤–∞—à–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏ –ø–æ—à—É–∫—É —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏
            </p>
            <button onclick="clearFilters()" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all shadow-md hover:shadow-lg">
                <span class="material-symbols-outlined text-[20px]">refresh</span>
                –°–∫–∏–Ω—É—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏
            </button>
        </div>
        {% endif %}

        <!-- Pagination -->
        {% if total_pages and total_pages > 1 %}
        <div class="mt-12">
            <div class="flex flex-col sm:flex-row items-center justify-between gap-4 p-6 bg-white rounded-2xl border border-gray-200 shadow-sm">
                <!-- Results Info -->
                <p class="text-sm text-gray-600">
                    –°—Ç–æ—Ä—ñ–Ω–∫–∞ <span class="font-semibold text-gray-900">{{ current_page }}</span> –∑ <span class="font-semibold text-gray-900">{{ total_pages }}</span>
                    <span class="hidden sm:inline text-gray-400">‚Ä¢</span>
                    <span class="hidden sm:inline">–í—Å—å–æ–≥–æ {{ total_athletes }} —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ñ–≤</span>
                </p>

                <!-- Pagination Controls -->
                <nav class="flex items-center gap-2">
                    <!-- Previous -->
                    {% if has_prev %}
                    <button data-page="{{ current_page - 1 }}" class="pagination-btn w-10 h-10 flex items-center justify-center rounded-xl border-2 border-gray-300 bg-white hover:border-blue-600 hover:bg-blue-50 transition-all">
                        <span class="material-symbols-outlined text-[20px]">chevron_left</span>
                    </button>
                    {% else %}
                    <span class="w-10 h-10 flex items-center justify-center rounded-xl border-2 border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed">
                        <span class="material-symbols-outlined text-[20px]">chevron_left</span>
                    </span>
                    {% endif %}

                    <!-- Pages -->
                    {% set start_page = [1, current_page - 2]|max %}
                    {% set end_page = [total_pages, current_page + 2]|min %}
                    
                    {% for page_num in range(start_page, end_page + 1) %}
                        {% if page_num == current_page %}
                        <span class="w-10 h-10 flex items-center justify-center rounded-xl bg-blue-600 text-white text-sm font-bold shadow-md">{{ page_num }}</span>
                        {% else %}
                        <button data-page="{{ page_num }}" class="pagination-btn w-10 h-10 flex items-center justify-center rounded-xl border-2 border-gray-300 bg-white hover:border-blue-600 hover:bg-blue-50 text-sm font-medium transition-all">{{ page_num }}</button>
                        {% endif %}
                    {% endfor %}

                    <!-- Next -->
                    {% if has_next %}
                    <button data-page="{{ current_page + 1 }}" class="pagination-btn w-10 h-10 flex items-center justify-center rounded-xl border-2 border-gray-300 bg-white hover:border-blue-600 hover:bg-blue-50 transition-all">
                        <span class="material-symbols-outlined text-[20px]">chevron_right</span>
                    </button>
                    {% else %}
                    <span class="w-10 h-10 flex items-center justify-center rounded-xl border-2 border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed">
                        <span class="material-symbols-outlined text-[20px]">chevron_right</span>
                    </span>
                    {% endif %}
                </nav>
            </div>
        </div>
        {% endif %}
    </div>

</main>

<style>
    /* Custom Filter Dropdowns */
    .custom-filter-dropdown {
        position: relative;
    }

    .filter-dropdown-menu {
        position: absolute;
        top: calc(100% + 8px);
        left: 0;
        min-width: 200px;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 50;
        overflow: hidden;
    }

    .custom-filter-dropdown.active .filter-dropdown-menu {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .filter-dropdown-item {
        display: block;
        width: 100%;
        padding: 12px 16px;
        font-size: 14px;
        text-align: left;
        color: #111418;
        background: transparent;
        border: none;
        cursor: pointer;
        transition: all 0.15s;
    }

    .filter-dropdown-item:hover {
        background-color: #f3f4f6;
    }

    .filter-dropdown-item.active {
        background-color: #eff6ff;
        font-weight: 600;
        color: #2563eb;
    }

    /* Athlete Card Hover */
    .athlete-card {
        cursor: pointer;
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .athlete-card:hover {
        transform: translateY(-8px);
    }

    /* Grid Loading State */
    #athletes-grid.loading {
        opacity: 0.5;
        pointer-events: none;
    }
</style>
{% endblock %}

{% block scripts %}
<script data-page-script="true">
    (function() {
        'use strict';
        
        let isInitialized = false;
        
        // ==================== URL BUILDER ====================
        
        function buildURL(filters) {
            let url = '/team/athletes?page=' + (filters.page || 1);
            
            if (filters.sex && filters.sex !== 'all') url += '&sex=' + filters.sex;
            if (filters.status && filters.status !== 'all') url += '&status=' + filters.status;
            if (filters.search) url += '&search=' + encodeURIComponent(filters.search);
            
            return url;
        }
        
        function applyFilters() {
            const sex = document.querySelector('[data-name="sex"]')?.getAttribute('data-value') || 'all';
            const status = document.querySelector('[data-name="status"]')?.getAttribute('data-value') || 'all';
            const search = document.getElementById('search-input')?.value?.trim() || '';
            
            const filters = { sex, status, search, page: 1 };
            const url = buildURL(filters);
            
            if (window.navigationManager) {
                window.navigationManager.navigateTo(url);
            } else {
                window.location.href = url;
            }
        }
        
        function clearFilters() {
            if (window.navigationManager) {
                window.navigationManager.navigateTo('/team/athletes');
            } else {
                window.location.href = '/team/athletes';
            }
        }
        
        function goToPage(page) {
            const urlParams = new URLSearchParams(window.location.search);
            const filters = {
                sex: urlParams.get('sex') || 'all',
                status: urlParams.get('status') || 'all',
                search: urlParams.get('search') || '',
                page: page
            };
            
            const url = buildURL(filters);
            
            if (window.navigationManager) {
                window.navigationManager.navigateTo(url);
            } else {
                window.location.href = url;
            }
        }
        
        // ==================== DROPDOWNS ====================
        
        function initFilterDropdowns() {
            const dropdowns = document.querySelectorAll('.custom-filter-dropdown');
            
            dropdowns.forEach(dropdown => {
                const button = dropdown.querySelector('button');
                const items = dropdown.querySelectorAll('.filter-dropdown-item');
                const label = dropdown.querySelector('.filter-label');
                
                if (!button || !label) return;
                
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    document.querySelectorAll('.custom-filter-dropdown.active').forEach(d => {
                        if (d !== dropdown) d.classList.remove('active');
                    });
                    
                    dropdown.classList.toggle('active');
                });
                
                items.forEach(item => {
                    const value = item.getAttribute('data-value');
                    if (value === dropdown.getAttribute('data-value')) {
                        item.classList.add('active');
                    }
                    
                    item.addEventListener('click', function(e) {
                        e.stopPropagation();
                        
                        dropdown.setAttribute('data-value', value);
                        label.textContent = this.textContent;
                        
                        dropdown.querySelectorAll('.filter-dropdown-item').forEach(i => {
                            i.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        dropdown.classList.remove('active');
                    });
                });
            });
            
            document.addEventListener('click', function() {
                document.querySelectorAll('.custom-filter-dropdown.active').forEach(d => {
                    d.classList.remove('active');
                });
            });
        }
        
        // ==================== SEARCH ====================
        
        function attachSearchHandler() {
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        applyFilters();
                    }
                });
            }
        }
        
        // ==================== PAGINATION ====================
        
        function attachPaginationHandlers() {
            document.addEventListener('click', function(e) {
                const btn = e.target.closest('.pagination-btn');
                if (btn && !btn.disabled) {
                    e.preventDefault();
                    const page = parseInt(btn.getAttribute('data-page'));
                    if (page) goToPage(page);
                }
            });
        }
        
        // ==================== INITIALIZATION ====================
        
        function init() {
            if (isInitialized) return;
            
            console.log('[Athletes] Initializing...');
            
            initFilterDropdowns();
            attachSearchHandler();
            attachPaginationHandlers();
            
            isInitialized = true;
            console.log('[Athletes] Ready');
        }
        
        function cleanup() {
            console.log('[Athletes] Cleanup');
            isInitialized = false;
        }
        
        // ==================== GLOBAL EXPORTS ====================
        
        window.applyFilters = applyFilters;
        window.clearFilters = clearFilters;
        window.goToPage = goToPage;
        
        // ==================== AUTO-INIT ====================
        
        window.addEventListener('pageCleanup', cleanup);
        window.addEventListener('pageInit', () => {
            if (window.location.pathname.startsWith('/team/athletes')) init();
        });
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
        
    })();
</script>
{% endblock %}
